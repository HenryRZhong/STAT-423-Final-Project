---
title: "STAT_423_project"
author: "Lorenzo, Henry, Sophia"
date: "2024-02-29"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
Salary_Data <- read.csv("Salary_Data.csv")
```

# Data description

The data used for this project is the Salary_Data dataset from Kaggle, found [here](https://www.kaggle.com/datasets/mohithsairamreddy/salary-data/data)

The description of the data set does not say where the data is from geographically. However, the data set creator did respond to a comment asking what unit the salary data was in, saying that it was in Indian Rupees(INR). Given this, it is most likely that this data set is from India.

There are 6704 rows and six columns: age (in years), gender (male or female), education level (Bachelor’s, Master’s, or PhD), job title, years of experience, and salary in USD. The numeric variables are age, years of experience, and salary, while gender, education level, and job title are categorical. While education level and gender have predetermined levels, the job title column is freeform; some job titles come up hundreds of times while others only appear once.

Due to the job title column having a large number of categories, we will be grouping categories together to have a more reasonable number of categorical levels for our analysis. Given the arbitrary nature of this, it could potentially have an impact on the significance of our findings of if job title is a significant predictor of salary.

# categorizing


# starting model


# collinearity of age and experience

We want to check if age and years of experience are collinear. It makes logical sense that they would be, as you would not expect a person fresh out of college to have much experience. And a person who is older could have been is a job for years. But, there could be other factors that cause them to not be related, such as changing jobs or fields, and thus being older with less experience.

We will use three methods to check the collinearity of age and experience. The first will be a scatterplot of the two variables. If they are unrelated we will see an even spread, and if they are related, there will be a more linear spread. We will also use two functions in R, to find two numbers that would hint towards collinearity, the correlation coefficient and the variance inflation factor. If the correlation coefficient is greater than 0.8 or the variance inflation factor is greater than 10, there is evidence of collinearity. The third test will be fitting a linear regression to just age and experience, with age as the predictor and experience as the response. If the two are collinear, then there will be statistically significant evidence of a linear relationship between the two variables from a t-test.

```{r}
AgeVsExp <- Salary_Data[,c("Salary", "Age", "Years.of.Experience")]
AgeVsExp$Age <- as.numeric(AgeVsExp$Age)
AgeVsExp$Years.of.Experience <- as.numeric(AgeVsExp$Years.of.Experience)
Age_S <- as.numeric(AgeVsExp$Age)
Experience_S <- as.numeric(AgeVsExp$Years.of.Experience)

plot(Age_S, Experience_S, main = "Scatterplot of Age vs Experience",
     xlab = "Age",
     ylab = "Experience")
```
Looking at the scatterplot of age versus experience, we see that there appears to be a linear relationship between the two.

```{r}
cor(AgeVsExp$Age, AgeVsExp$Years.of.Experience, use = "complete.obs")
```

Using the correlation function in R gives us a correlation value of 0.9377, which is greater than what we said was needed to consider a collinear relationship possible.

```{r}
AVE.lm <- lm(Salary ~ Age + Years.of.Experience, data = AgeVsExp)
vif(AVE.lm)
```
Creating a quick linear model of Salary predicted by Age and Experience, we can find the Variance Inflation Factor of the two predictors. We see that each of them have a VIF of greater than 8. This again shows us that there is a strong case for collinearity between the two factors.




# Checking for interactions


# Education level impact


# Outliers


# Final model